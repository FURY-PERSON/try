# Фаза 2: Бизнес-аналитик — Результаты

## 1. Бизнес-требования (BRD)

### 1.1 Цели и KPI

| Метрика | 1 мес | 3 мес | 6 мес | 12 мес |
|---------|-------|-------|-------|--------|
| Установки (total) | 500 | 3,000 | 10,000 | 30,000 |
| DAU | 50 | 300 | 1,200 | 3,000 |
| MAU | 200 | 1,200 | 5,000 | 15,000 |
| Retention D1 | 35% | 40% | 45% | 45% |
| Retention D7 | 15% | 20% | 25% | 28% |
| Retention D30 | 5% | 10% | 15% | 18% |
| Средняя длительность сессии | 5 мин | 7 мин | 8 мин | 10 мин |
| Сессий в день на пользователя | 1.2 | 1.4 | 1.5 | 1.6 |
| ARPDAU (рекламный доход) | $0.005 | $0.008 | $0.010 | $0.012 |
| Месячный доход | $8 | $72 | $360 | $1,080 |

### 1.2 Модель монетизации — расчёты

```
Формула: Доход = DAU × Sessions/Day × Ads/Session × eCPM / 1000

Допущения:
- Sessions/Day = 1.5
- Ads/Session = 3 (1 banner impression + 1 interstitial + 1 rewarded)
- Total impressions/DAU/день = 4.5

Для $300/мес ($10/день):

Сценарий 1 (высокий eCPM = $5.00, международная аудитория US/UK):
  $10 ÷ ($5.00 × 4.5 / 1000) = $10 ÷ $0.0225 = 444 DAU

Сценарий 2 (средний eCPM = $2.00, смешанная RU + международная):
  $10 ÷ ($2.00 × 4.5 / 1000) = $10 ÷ $0.009 = 1,111 DAU

Сценарий 3 (низкий eCPM = $1.00, преимущественно СНГ):
  $10 ÷ ($1.00 × 4.5 / 1000) = $10 ÷ $0.0045 = 2,222 DAU

Целевой сценарий: 1,000-2,000 DAU при blend eCPM $1.50-2.50
```

### 1.3 Go-to-Market стратегия

**Этап 1: Soft Launch (месяцы 1-2)**
- Регион: Россия (Google Play + RuStore)
- Цель: 500 установок, валидация retention и ad integration
- Действия: ASO оптимизация, публикация в RuStore (меньше конкуренция)
- Сбор обратной связи, исправление багов

**Этап 2: Расширение (месяцы 3-4)**
- Регион: + App Store (iOS), + Huawei AppGallery
- Цель: 3,000 установок cumulative
- Действия: ASO на английском, расширение в EN-аудиторию
- Бесплатные каналы: Reddit (r/todayilearned, r/funfacts), Twitter/X, Telegram-каналы

**Этап 3: Масштабирование (месяцы 5-12)**
- Регион: глобальный
- Цель: 10,000+ установок, 1,200+ DAU
- Действия: контент-маркетинг, кросс-промо, оптимизация eCPM

**ASO-стратегия:**

| Стор | Ключевые слова (RU) | Ключевые слова (EN) |
|------|---------------------|---------------------|
| App Store | факт или фейк, проверь знания, правда или ложь, викторина, образование | fact or fake, true or false, trivia, fun facts, quiz game |
| Google Play | факт фейк, правда ложь, викторина знания, интересные факты | fact check game, true false quiz, fun facts trivia |
| RuStore | факт или фейк, правда, викторина, образование | — |

**Бесплатные каналы продвижения:**
- ASO (основной канал — органический трафик)
- Reddit: r/todayilearned, r/funfacts, r/AndroidApps, r/iosapps
- Telegram: каналы про приложения, факты, образование
- TikTok/Reels: короткие видео «а ты знал?» с утверждениями из приложения (виральный контент)
- Product Hunt: запуск при выходе EN-версии

---

## 2. Функциональные требования (FRD)

### Группа: Onboarding

---

**FR-001: Splash Screen**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу видеть красивый экран загрузки, чтобы понять что приложение запускается.
- Описание: Отображение логотипа и названия приложения «Факт или Фейк» на брендированном фоне. Время показа — пока загружаются шрифты и начальные данные (макс 2 сек).
- Критерии приёмки:
  - AC-1: Когда приложение запускается, тогда отображается splash screen с логотипом
  - AC-2: Когда загрузка завершена, тогда splash screen плавно исчезает (fade out)
  - AC-3: Когда загрузка длится > 3 сек, тогда показывается индикатор загрузки
- Связанные экраны: Splash Screen
- Зависимости: —
- Требует backend: Нет
- Примечания: Конфигурируется через expo-splash-screen

---

**FR-002: Onboarding Flow**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как новый пользователь, я хочу понять ценность приложения за 30 секунд, чтобы решить продолжить использование.
- Описание: 3 экрана с горизонтальным свайпом + кнопки «Далее» / «Пропустить». Экран 1: ценность («Отличай факты от фейков — тренируй критическое мышление»). Экран 2: как это работает («15 карточек каждый день — свайпни вправо если факт, влево если фейк»). Экран 3: выбор языка контента (RU / EN / оба).
- Критерии приёмки:
  - AC-1: Когда пользователь открывает приложение впервые, тогда показывается onboarding
  - AC-2: Когда пользователь нажимает «Пропустить», тогда переход на главный экран
  - AC-3: Когда пользователь прошёл все 3 шага, тогда сохраняется настройка языка и переход на главный экран
  - AC-4: Когда пользователь уже прошёл onboarding ранее, тогда он НЕ показывается повторно
- Связанные экраны: Onboarding Step 1, Step 2, Step 3
- Зависимости: —
- Требует backend: Нет (настройки в AsyncStorage)

---

**FR-003: Запрос разрешения на push-уведомления**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу получать напоминания о новых наборах, чтобы не забывать играть.
- Описание: Запрос разрешения на push-уведомления в конце onboarding или при первом входе на главный экран. Если отклонено — не переспрашивать, но показать объяснение в настройках.
- Критерии приёмки:
  - AC-1: Когда onboarding завершён, тогда запрашивается разрешение на push
  - AC-2: Когда пользователь разрешает, тогда push-token отправляется на сервер
  - AC-3: Когда пользователь отклоняет, тогда приложение работает без push
- Связанные экраны: Onboarding Step 3 или Home
- Зависимости: FR-002
- Требует backend: Да (сохранение push-token)

---

### Группа: Core — Ежедневный набор

---

**FR-010: Главный экран (Home)**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу видеть текущий ежедневный набор и свой прогресс, чтобы быстро начать игру.
- Описание: Отображает: тему дня, прогресс по ежедневному набору (X из 15 карточек пройдено), стрик (дней подряд), кнопку «Играть». Если ежедневный набор пройден — показать результаты и время до следующего.
- Критерии приёмки:
  - AC-1: Когда пользователь открывает приложение, тогда отображается тема дня и прогресс
  - AC-2: Когда ежедневный набор не начат, тогда показывается кнопка «Начать»
  - AC-3: Когда набор начат но не завершён, тогда показывается кнопка «Продолжить» с прогрессом (X/15)
  - AC-4: Когда набор завершён, тогда показываются результаты и обратный отсчёт до следующего набора
  - AC-5: Когда нет сети, тогда показывается кэшированный набор (если загружен ранее)
- Связанные экраны: Home Screen
- Зависимости: —
- Требует backend: Да (загрузка ежедневного набора)

---

**FR-011: Загрузка ежедневного набора с сервера**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу каждый день получать новый набор утверждений, чтобы было интересно возвращаться.
- Описание: При открытии приложения клиент запрашивает ежедневный набор (GET /api/v1/daily-sets/today). Набор содержит 15 утверждений (карточек), каждая с: текстом утверждения, правильностью (факт/фейк), объяснением, источником и (опционально) иллюстрацией. Набор кэшируется локально.
- Критерии приёмки:
  - AC-1: Когда приложение открывается, тогда загружается набор текущего дня
  - AC-2: Когда набор уже загружен, тогда используется кэш (не повторный запрос)
  - AC-3: Когда нет сети, тогда используется кэшированный набор
  - AC-4: Когда набор не опубликован (админ не создал), тогда показывается fallback-контент
- Связанные экраны: Home Screen
- Зависимости: Backend API
- Требует backend: Да

---

**FR-012: Прохождение карточки «Факт или Фейк»**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу оценивать утверждения свайпом, чтобы тренировать критическое мышление и получать удовольствие.
- Описание: Единый формат: карточка с утверждением. Пользователь свайпает вправо — считает фактом, влево — считает фейком. Также доступны кнопки «Факт» / «Фейк» для тех, кто предпочитает тапы. После ответа — анимация результата (правильно/неправильно) + показ объяснения с источником.
- Критерии приёмки:
  - AC-1: Когда пользователь видит карточку, тогда отображается текст утверждения, категория и сложность
  - AC-2: Когда пользователь свайпает вправо (факт) или влево (фейк), тогда показывается анимация результата
  - AC-3: Когда ответ дан, тогда показывается объяснение + источник (почему это факт/фейк)
  - AC-4: Когда объяснение показано, тогда пользователь может нажать «Далее» для перехода к следующей карточке
  - AC-5: Когда результат определён, тогда он отправляется на сервер
  - AC-6: Когда к утверждению есть иллюстрация, тогда она отображается на карточке
- Связанные экраны: Card Game Screen
- Зависимости: FR-011
- Требует backend: Да (проверка, сохранение результата)

---

**FR-013: Правила составления утверждений**
- Приоритет: Must
- Релиз: MVP (v1.0)
- Описание: Утверждения бывают двух видов — факты (правда) и фейки (ложь). Ключевое требование: фейки должны звучать правдоподобно, быть написаны в том же стиле что и факты, не содержать явных маркеров ложности. Примеры:
  - **Факт:** «Осьминоги имеют три сердца» — правда
  - **Фейк:** «Дельфины спят с одним открытым глазом, потому что у них только одно веко» — ложь (на самом деле дельфины спят "половиной мозга", но имеют два века)
- Правила:
  - 50% утверждений в наборе должны быть фактами, 50% — фейками (±1)
  - Утверждения не должны быть тривиальными (не «вода мокрая»)
  - Фейки должны быть основаны на распространённых заблуждениях или правдоподобных вымыслах
  - Каждое утверждение должно иметь объяснение и проверяемый источник
  - Сложность 1-5 определяет насколько "хитрое" утверждение
- Критерии приёмки:
  - AC-1: Когда AI генерирует утверждения, тогда ~50% являются фактами и ~50% фейками
  - AC-2: Когда фейк создан, тогда он содержит объяснение почему это неправда
  - AC-3: Когда факт создан, тогда он содержит источник для верификации
- Связанные экраны: —
- Зависимости: AI prompt
- Требует backend: Да

---

**FR-014: Показ объяснения после ответа**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу узнавать правду после каждого ответа, чтобы учиться и чувствовать пользу от игры.
- Описание: Сразу после свайпа (правильного или неправильного) показывается объяснение: почему это факт или фейк, источник информации (кликабельная ссылка или название), иллюстрация (если есть). Кнопки: «Далее» (следующая карточка) и «Поделиться» (share).
- Критерии приёмки:
  - AC-1: Когда пользователь свайпнул карточку, тогда показывается объяснение
  - AC-2: Когда объяснение отображается, тогда виден текст, источник и иллюстрация (если есть)
  - AC-3: Когда пользователь нажимает «Далее», тогда переход к следующей карточке
  - AC-4: Когда пользователь нажимает «Поделиться», тогда открывается системный share sheet
- Связанные экраны: Explanation Card (overlay после каждой карточки)
- Зависимости: FR-012
- Требует backend: Нет (данные уже загружены)

---

**FR-015: Результаты ежедневного набора**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу видеть итоги пройденного набора с процентом правильных ответов и сравнением с другими игроками, чтобы оценить свой уровень.
- Описание: После прохождения всех 15 карточек — экран результатов:
  1. Количество правильных ответов из 15 (например, 12/15)
  2. Процент правильных ответов (например, 80%)
  3. Перцентиль пользователя среди всех, кто прошёл набор сегодня (например, «Вы лучше 73% игроков сегодня»). Рассчитывается на сервере как процент пользователей, набравших меньше правильных ответов, чем текущий пользователь.
  4. Текущий стрик (дней подряд)
  5. Визуальная сетка результатов (зелёные/красные квадратики)
  6. Кнопка «Поделиться результатом»
- Критерии приёмки:
  - AC-1: Когда все 15 карточек пройдены, тогда показывается экран результатов
  - AC-2: Когда показаны результаты, тогда отображается процент правильных ответов (correctCount / totalCards × 100, округлённый до целого)
  - AC-3: Когда показаны результаты, тогда отображается перцентиль пользователя среди всех игроков за сегодня (например, «Лучше 73% игроков»)
  - AC-4: Когда показаны результаты, тогда стрик обновляется (+1 день)
  - AC-5: Когда пользователь нажимает «Поделиться», тогда генерируется изображение с результатами для share
  - AC-6: Когда результаты отправлены, тогда позиция в лидерборде обновлена
  - AC-7: Когда сегодня ещё никто не играл (первый игрок), тогда перцентиль = «Лучше 100% игроков» (или «Вы первый сегодня!»)
- Связанные экраны: Daily Results Screen
- Зависимости: FR-012, FR-014
- Требует backend: Да (перцентиль, лидерборд, стрик)
- API: POST /api/v1/daily-sets/:id/submit возвращает `{ correctCount, totalCards, correctPercent, percentile, streak }`

---

### Группа: Система антиповторов

---

**FR-025: Трекинг истории ответов пользователя**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу всегда видеть новые утверждения, чтобы не скучать от повторений.
- Описание: Сервер хранит для каждого пользователя: список просмотренных утверждений с результатом (правильно/неправильно) и датой. Логика выдачи: правильный ответ → утверждение исключено навсегда. Неправильный ответ → утверждение может повториться через 7+ дней. Не встреченное → доступно.
- Критерии приёмки:
  - AC-1: Когда пользователь правильно ответил, тогда утверждение помечается как «completed» и больше не выдаётся
  - AC-2: Когда пользователь неправильно ответил, тогда утверждение помечается как «failed» с датой
  - AC-3: Когда сервер формирует набор для пользователя, тогда исключаются все «completed» и «failed» с давностью < 7 дней
  - AC-4: Когда у пользователя осталось < 50 доступных утверждений, тогда сервер логирует предупреждение
- Связанные экраны: —
- Зависимости: Backend
- Требует backend: Да

---

### Группа: Реклама

---

**FR-030: Баннерная реклама**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу показывать баннерную рекламу на неигровых экранах, чтобы получать доход.
- Описание: Banner Ad (320×50) на главном экране (внизу) и на экране статистики. Баннер НЕ показывается во время прохождения карточек (не отвлекать). Загрузка асинхронная — при ошибке пространство схлопывается.
- Критерии приёмки:
  - AC-1: Когда пользователь на главном экране, тогда внизу отображается баннер
  - AC-2: Когда реклама не загрузилась, тогда пространство под баннер схлопывается
  - AC-3: Когда пользователь проходит карточки, тогда баннер НЕ показывается
  - AC-4: Когда это первые 3 сессии пользователя, тогда баннер НЕ показывается (grace period)
- Связанные экраны: Home, Stats
- Зависимости: —
- Требует backend: Нет

---

**FR-031: Interstitial реклама**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу показывать полноэкранную рекламу между карточками, чтобы увеличить доход.
- Описание: Interstitial показывается после каждых 5 карточек (после объяснения, перед следующей карточкой). НЕ во время просмотра карточки. Frequency capping: не чаще 1 раза в 2 минуты, максимум 10 в день. НЕ показывать при первых 3 сессиях.
- Критерии приёмки:
  - AC-1: Когда пройдена 5-я и 10-я карточка и прошло ≥ 2 мин с последнего interstitial, тогда показывается interstitial
  - AC-2: Когда дневной лимит (10) достигнут, тогда interstitial больше не показывается
  - AC-3: Когда пользователь сыграл < 3 сессий всего, тогда interstitial НЕ показывается
  - AC-4: Когда реклама не загрузилась, тогда просто переход к следующей карточке
- Связанные экраны: Между карточками (после 5-й и 10-й)
- Зависимости: FR-012
- Требует backend: Нет (логика на клиенте)

---

**FR-032: Rewarded Video реклама**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу получить подсказку за просмотр рекламы, чтобы ответить правильно на сложное утверждение.
- Описание: Rewarded video показывается ТОЛЬКО по желанию пользователя. Триггер: кнопка «Подсказка» на карточке утверждения — показывает, к какой категории относится утверждение и намёк на правильный ответ (например, «Большинство утверждений о [теме] в этом наборе — правда»).
- Критерии приёмки:
  - AC-1: Когда пользователь нажимает «Подсказка», тогда предлагается посмотреть rewarded video
  - AC-2: Когда видео полностью просмотрено, тогда выдаётся подсказка
  - AC-3: Когда видео прервано, тогда подсказка НЕ выдаётся
  - AC-4: Когда видео не загрузилось, тогда кнопка «Подсказка» скрыта
- Связанные экраны: Card Game Screen
- Зависимости: FR-012
- Требует backend: Нет

---

### Группа: Персонализация

---

**FR-040: Настройки приложения**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу настроить приложение под себя: язык, тему, уведомления.
- Описание: Экран настроек: язык контента (RU / EN / оба), язык интерфейса (RU / EN), тема (светлая / тёмная / системная), уведомления (вкл/выкл, время напоминания), звуки (вкл/выкл), вибрация при свайпе (вкл/выкл).
- Критерии приёмки:
  - AC-1: Когда пользователь меняет язык контента, тогда при следующем запросе к серверу приходят утверждения на выбранном языке
  - AC-2: Когда пользователь меняет тему, тогда интерфейс мгновенно меняется
  - AC-3: Когда пользователь отключает уведомления, тогда push перестают приходить
- Связанные экраны: Settings Screen
- Зависимости: —
- Требует backend: Частично (язык контента влияет на запросы)

---

**FR-041: Выбор категорий интересов**
- Приоритет: Should
- Релиз: v1.1
- User Story: Как пользователь, я хочу выбрать интересные мне категории, чтобы получать более релевантный контент.
- Описание: Пользователь выбирает 3+ категории из списка: наука, история, география, природа, космос, культура, технологии, спорт, здоровье. Ежедневные наборы учитывают предпочтения при формировании fallback-контента.
- Связанные экраны: Settings → Interests
- Требует backend: Да

---

### Группа: Retention

---

**FR-050: Стрик (серия дней)**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу поддерживать серию дней игры, чтобы чувствовать прогресс и мотивацию.
- Описание: Стрик = количество последовательных дней, когда пользователь завершил ежедневный набор (все 15 карточек). Отображается на Home Screen. Стрик сбрасывается в 00:00 UTC+3, если вчера набор не был завершён.
- Критерии приёмки:
  - AC-1: Когда пользователь завершает ежедневный набор, тогда стрик увеличивается на 1
  - AC-2: Когда пользователь пропустил день, тогда стрик сбрасывается до 0
  - AC-3: Когда стрик достигает milestone (7, 30, 100 дней), тогда показывается поздравление
- Связанные экраны: Home Screen, Daily Results
- Зависимости: FR-015
- Требует backend: Да

---

**FR-051: Push-уведомления**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу получать напоминания, чтобы не забыть пройти ежедневный набор и не потерять стрик.
- Описание: Типы push-уведомлений: «Новые карточки готовы!» (утром), «Не забудь проверить факты! Стрик N дней под угрозой» (вечером, если не играл), «Отличная серия! N дней подряд!» (после milestone).
- Критерии приёмки:
  - AC-1: Когда новый ежедневный набор опубликован, тогда push отправляется всем активным пользователям
  - AC-2: Когда 20:00 и пользователь не играл, тогда push «Стрик под угрозой»
  - AC-3: Когда пользователь отключил push в настройках, тогда уведомления НЕ отправляются
- Связанные экраны: —
- Зависимости: FR-003, FR-050
- Требует backend: Да (FCM)

---

### Группа: Социальные

---

**FR-060: Шаринг результатов**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу поделиться своим результатом с друзьями, чтобы похвастаться и привлечь их в игру.
- Описание: Генерация изображения с результатами (формат: цветные квадратики ✓/✗ за каждую из 15 карточек). Содержимое: название приложения, дата, результат (12/15 или 15/15), стрик, ссылка на скачивание. Системный share sheet (iOS/Android).
- Критерии приёмки:
  - AC-1: Когда пользователь нажимает «Поделиться» на экране результатов, тогда генерируется share-изображение
  - AC-2: Когда изображение готово, тогда открывается системный share sheet
  - AC-3: Когда share sheet закрыт, тогда возврат к результатам
- Связанные экраны: Daily Results Screen
- Зависимости: FR-015
- Требует backend: Нет

---

**FR-061: Шаринг утверждения**
- Приоритет: Should
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу поделиться интересным утверждением с друзьями.
- Описание: На экране объяснения кнопка «Поделиться». Генерируется изображение: утверждение + «Факт ✓» или «Фейк ✗» + объяснение + источник + брендинг приложения.
- Связанные экраны: Explanation Card
- Зависимости: FR-014
- Требует backend: Нет

---

### Группа: Данные и лидерборд

---

**FR-070: Статистика пользователя**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу видеть свою статистику, чтобы отслеживать прогресс.
- Описание: Экран статистики: всего карточек пройдено, правильных ответов (%), текущий стрик, лучший стрик, средний балл за ежедневный набор, график активности (тепловая карта по дням).
- Связанные экраны: Stats Screen
- Зависимости: FR-012
- Требует backend: Да

---

**FR-071: Глобальный лидерборд**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу видеть свою позицию среди других игроков за разные периоды, чтобы соревноваться и отслеживать свой прогресс.
- Описание: Лидерборд ранжируется по **количеству правильных ответов** (не по очкам). Вкладки: «Неделя», «Месяц», «Год», «Всё время». Для каждого периода суммируются правильные ответы пользователя за соответствующий промежуток. Пользователь идентифицируется по никнейму (задаётся при первом входе в лидерборд, без регистрации).
- Периоды:
  - **Неделя** — сумма правильных ответов за последние 7 дней (ISO-неделя или скользящее окно)
  - **Месяц** — сумма правильных ответов за текущий календарный месяц
  - **Год** — сумма правильных ответов за текущий календарный год
  - **Всё время** — сумма всех правильных ответов пользователя
- Критерии приёмки:
  - AC-1: Когда пользователь открывает лидерборд, тогда по умолчанию показывается вкладка «Неделя»
  - AC-2: Когда пользователь переключает вкладку, тогда таблица перезагружается для выбранного периода
  - AC-3: Когда в таблице показана запись, тогда для каждого пользователя отображаются: позиция, никнейм, количество правильных ответов за период
  - AC-4: Когда текущий пользователь есть в таблице, тогда его строка выделена визуально
  - AC-5: Когда текущего пользователя нет в топ-100, тогда внизу таблицы показывается его позиция отдельно (например, «Ваша позиция: #247»)
  - AC-6: Когда у пользователя нет никнейма, тогда перед показом лидерборда предлагается ввести никнейм
  - AC-7: Когда в периоде нет данных (начало года, нет игр), тогда показывается пустое состояние «Пока нет данных»
- Связанные экраны: Leaderboard Screen
- Зависимости: FR-015
- Требует backend: Да
- API:
  - GET /api/v1/leaderboard/weekly — топ за неделю
  - GET /api/v1/leaderboard/monthly — топ за месяц
  - GET /api/v1/leaderboard/yearly — топ за год
  - GET /api/v1/leaderboard/alltime — топ за всё время
  - Каждый эндпоинт возвращает: `{ entries: [{ rank, userId, nickname, correctAnswers }], userPosition: number | null, totalPlayers: number }`

---

### Группа: Аккаунт / Идентификация

---

**FR-080: Идентификация устройства**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как пользователь, я хочу чтобы мой прогресс сохранялся без регистрации.
- Описание: Идентификация по уникальному device ID (UUID, генерируется при первом запуске, хранится в SecureStore). Регистрация и логин НЕ требуются для MVP. Никнейм задаётся только при первом входе в лидерборд (опционально).
- Критерии приёмки:
  - AC-1: Когда приложение запускается впервые, тогда генерируется UUID и отправляется на сервер
  - AC-2: Когда приложение запускается повторно, тогда используется сохранённый UUID
  - AC-3: Когда пользователь хочет войти в лидерборд, тогда запрашивается никнейм (3-15 символов, уникальный)
- Связанные экраны: — (автоматически)
- Зависимости: —
- Требует backend: Да

---

### Группа: Админ-панель (Web)

---

**FR-090: Авторизация админа**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу иметь защищённый доступ к админке.
- Описание: Единственный аккаунт владельца. Логин по email + пароль. JWT-токены (access + refresh). Опционально: IP-whitelist.
- Требует backend: Да

---

**FR-091: AI-генерация утверждений**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу быстро генерировать утверждения через AI, чтобы наполнять базу контента.
- Описание: Форма генерации: категория, сложность (1-5), язык (RU/EN), количество (1-50), дополнительный промпт. Кнопка «Сгенерировать». AI (Claude API) генерирует утверждения с: текстом утверждения, пометкой факт/фейк, объяснением, **источником (URL или название)**. ~50% фактов, ~50% фейков. Фейки должны звучать правдоподобно. Результат сохраняется со статусом «На модерации».
- Критерии приёмки:
  - AC-1: Когда владелец нажимает «Сгенерировать», тогда отправляется запрос к AI API
  - AC-2: Когда AI вернул результат, тогда утверждения отображаются в таблице со статусом «На модерации»
  - AC-3: Когда AI не указал источник, тогда утверждение помечается «⚠ Требует проверки»
  - AC-4: Когда генерация завершена, тогда показывается уведомление с количеством созданных утверждений
- Связанные экраны: Admin → Утверждения → Генерация
- Требует backend: Да (AI API)

---

**FR-091a: Ручное создание утверждений**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу вручную добавлять утверждения, чтобы контролировать качество контента.
- Описание: Форма ручного создания утверждения: текст утверждения, пометка факт/фейк (switch), объяснение, источник, URL источника (необязательно), категория, сложность (1-5), язык (RU/EN). Утверждение сохраняется со статусом «На модерации» (или сразу «Одобрен» по выбору).
- Критерии приёмки:
  - AC-1: Когда владелец заполняет форму и нажимает «Создать», тогда утверждение сохраняется
  - AC-2: Когда форма заполнена не полностью, тогда показываются ошибки валидации
  - AC-3: Когда утверждение создано, тогда показывается уведомление и переход к списку
- Связанные экраны: Admin → Утверждения → Создать
- Требует backend: Да

---

**FR-092: Модерация утверждений**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу просматривать, редактировать и одобрять утверждения перед публикацией.
- Описание: Таблица утверждений с фильтрами по статусу (На модерации / Одобрен / Отклонён), факт/фейк, категории, сложности, языку. Для каждого утверждения: просмотр полной карточки, редактирование всех полей, кликабельная ссылка на источник, кнопки «Одобрить» / «Отклонить». Массовые действия: одобрить/отклонить выбранные.
- Критерии приёмки:
  - AC-1: Когда владелец открывает список, тогда утверждения отображаются с пагинацией и фильтрами
  - AC-2: Когда владелец нажимает «Одобрить», тогда статус меняется на «Одобрен» и утверждение попадает в пул
  - AC-3: Когда владелец нажимает «Отклонить», тогда статус меняется на «Отклонён»
  - AC-4: Когда владелец редактирует утверждение, тогда изменения сохраняются
  - AC-5: Когда владелец кликает на источник, тогда открывается ссылка в новой вкладке для верификации
- Связанные экраны: Admin → Утверждения → Список / Детали
- Требует backend: Да

---

**FR-093: AI-генерация иллюстраций**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу генерировать иллюстрации к утверждениям через AI.
- Описание: На карточке утверждения кнопка «Сгенерировать иллюстрацию». AI (DALL-E) создаёт изображение по тексту утверждения. Предпросмотр, кнопки «Принять» / «Перегенерировать» / «Загрузить свою». Единый стиль через style preset. Изображение сохраняется в S3-хранилище.
- Критерии приёмки:
  - AC-1: Когда владелец нажимает «Сгенерировать иллюстрацию», тогда AI создаёт изображение
  - AC-2: Когда изображение готово, тогда показывается предпросмотр
  - AC-3: Когда владелец нажимает «Принять», тогда изображение привязывается к утверждению
  - AC-4: Когда владелец нажимает «Загрузить свою», тогда открывается файловый диалог (JPEG/PNG, макс 2MB)
- Связанные экраны: Admin → Утверждения → Детали → Иллюстрация
- Требует backend: Да (AI API + S3)

---

**FR-094: Управление ежедневными наборами**
- Приоритет: Must
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу формировать ежедневные наборы из одобренных утверждений.
- Описание: Календарь с наборами. Создание набора: выбрать дату, тему дня, выбрать 15 утверждений (~50% фактов, ~50% фейков) из пула одобренных. Предпросмотр набора. Статусы: черновик / запланирован / опубликован. Автопубликация в назначенную дату.
- Критерии приёмки:
  - AC-1: Когда владелец создаёт набор, тогда выбирает дату, тему и 15 утверждений
  - AC-2: Когда набор сохранён, тогда он отображается в календаре
  - AC-3: Когда наступает дата, тогда набор автоматически публикуется
  - AC-4: Когда нет набора на сегодня, тогда система использует fallback (случайный набор из пула)
- Связанные экраны: Admin → Ежедневные наборы → Календарь / Создать
- Требует backend: Да

---

**FR-095: Дашборд статистики (админ)**
- Приоритет: Should
- Релиз: MVP (v1.0)
- User Story: Как владелец, я хочу видеть ключевые метрики, чтобы понимать состояние приложения.
- Описание: Дашборд: DAU/MAU, retention (D1/D7/D30), количество утверждений в пуле (по статусам, факты/фейки), количество запланированных наборов, средний процент правильных ответов, топ-5 самых сложных/лёгких утверждений, предупреждение если пул утверждений < 200.
- Связанные экраны: Admin → Dashboard
- Требует backend: Да

---

## 3. Нефункциональные требования

| ID | Категория | Требование | Метрика |
|----|-----------|-----------|---------|
| NFR-001 | Производительность | Холодный старт | < 2 секунд |
| NFR-002 | Производительность | FPS при свайпе карточек | ≥ 60fps |
| NFR-003 | Производительность | Отклик на свайп | < 50ms |
| NFR-004 | Размер | APK | < 50MB |
| NFR-005 | Размер | IPA | < 60MB |
| NFR-006 | Сеть | Оффлайн-режим | Кэшированный набор работает без сети |
| NFR-007 | Сеть | Время загрузки набора | < 2 сек на 3G |
| NFR-008 | Совместимость | iOS | 16+ |
| NFR-009 | Совместимость | Android | API 26+ (8.0) |
| NFR-010 | Безопасность | Device ID | Хранение в SecureStore (не AsyncStorage) |
| NFR-011 | Безопасность | API | HTTPS only, rate limiting |
| NFR-012 | Безопасность | Админ-панель | JWT + опционально IP-whitelist |
| NFR-013 | Безопасность | API ключи AI | В .env, не в клиентском коде |
| NFR-014 | Локализация | Языки интерфейса | RU, EN |
| NFR-015 | Локализация | Языки контента | RU, EN (независимо от интерфейса) |
| NFR-016 | Доступность | Touch targets | ≥ 44pt |
| NFR-017 | Доступность | Контрастность | WCAG AA |
| NFR-018 | Доступность | Screen reader | accessibilityLabel на всех интерактивных элементах |
| NFR-019 | Backend | API response time | < 500ms (p95) |
| NFR-020 | Backend | Uptime | 99.5% |
| NFR-021 | Backend | Concurrent users | До 1,000 одновременно (на старте) |
| NFR-022 | Контент | Достоверность фактов | 100% фактов с проверяемым источником |
| NFR-023 | Контент | Минимальный пул к запуску | 500+ одобренных утверждений |
| NFR-024 | Контент | Баланс фактов/фейков | 45-55% фейков в общем пуле |

---

## 4. User Flows

### 4.1 Первый запуск (Onboarding)
```
[Splash Screen] (2 сек)
  → [Onboarding Step 1: «Отличай факты от фейков — тренируй критическое мышление»]
  → [Onboarding Step 2: «15 карточек каждый день — свайпни вправо если факт, влево если фейк»]
  → [Onboarding Step 3: «Выбери язык контента: RU / EN / Оба»]
  → [Запрос push-разрешения]
  → [Генерация device ID → отправка на сервер]
  → [Загрузка ежедневного набора]
  → [Home Screen]
```

### 4.2 Ежедневный набор (основной сценарий)
```
[Home Screen] → кнопка «Начать»
  → [Card Screen: карточка 1 — утверждение]
    → свайп вправо (факт) или влево (фейк)
    → [Explanation Card: объяснение + источник + иллюстрация]
    → «Далее»
  → [Card Screen: карточка 2]
    → свайп → [Explanation Card] → «Далее»
  → ... (карточки 3-4)
  → [Card Screen: карточка 5]
    → свайп → [Explanation Card] → «Далее»
  → [Interstitial Ad — если прошло ≥ 2 мин]
  → [Card Screen: карточки 6-10]
    → (свайп → объяснение → далее) × 5
  → [Interstitial Ad — если прошло ≥ 2 мин]
  → [Card Screen: карточки 11-15]
    → (свайп → объяснение → далее) × 5
  → [Daily Results Screen: 12/15 правильно (80%), «Лучше 73% игроков сегодня», стрик 7 дней]
    → «Поделиться» / «На главный»
  → [Home Screen: набор завершён, обратный отсчёт]
```

### 4.3 Использование подсказки
```
[Card Screen: сложное утверждение]
  → кнопка «💡 Подсказка»
  → [Диалог: «Посмотри короткое видео и получи подсказку»]
    → «Смотреть» → [Rewarded Video Ad]
      → видео просмотрено → подсказка показана (категория + намёк)
    → «Отмена» → возврат к карточке
```

### 4.4 Возврат пользователя
```
[Push-уведомление: «Новые карточки готовы! Тема: Космос и вселенная 🚀»]
  → тап → [Deep link] → [Home Screen с новым набором]
```

```
[Push-уведомление: «Стрик 14 дней под угрозой! Не забудь проверить факты»]
  → тап → [Deep link] → [Home Screen → автостарт набора]
```

### 4.5 Админ: создание контента
```
[Admin Login] → email + пароль → [Dashboard]
  → [Утверждения] → [Генерация]
    → выбор параметров (категория, сложность, язык, кол-во)
    → «Сгенерировать» → ожидание AI
    → [Список сгенерированных утверждений (статус: «На модерации»)]
    → для каждого:
      → просмотр утверждения + объяснения + клик по ссылке на источник → проверка
      → редактирование (если нужно)
      → «Одобрить ✓» или «Отклонить ✗»
    → опционально: «Сгенерировать иллюстрацию» → предпросмотр → «Принять»
  → [Утверждения] → [Создать вручную]
    → заполнение формы (утверждение, факт/фейк, объяснение, источник, категория, сложность)
    → «Создать»
  → [Ежедневные наборы] → [Создать]
    → выбор даты, тема дня
    → выбор 15 утверждений из пула одобренных (~50/50 факты/фейки)
    → «Предпросмотр» → «Запланировать»
```

---

## 5. Модели данных

### 5.1 Сущности

```typescript
// Пользователь устройства
// Хранение: Remote (PostgreSQL)
interface User {
  id: string;            // cuid
  deviceId: string;      // UUID, уникальный
  nickname: string | null; // для лидерборда, опционально
  language: 'ru' | 'en' | 'both'; // язык контента
  pushToken: string | null;
  pushEnabled: boolean;
  currentStreak: number;
  bestStreak: number;
  lastPlayedDate: Date | null;
  totalGamesPlayed: number;
  totalCorrectAnswers: number;
  createdAt: Date;
  updatedAt: Date;
}

// Категория утверждений
// Хранение: Remote
interface Category {
  id: string;
  name: string;          // "Наука", "История"
  nameEn: string;        // "Science", "History"
  slug: string;          // "science", "history"
  icon: string;          // иконка
  isActive: boolean;
  sortOrder: number;
  createdAt: Date;
}

// Утверждение (карточка)
// Хранение: Remote
interface Question {
  id: string;
  statement: string;     // "Великая Китайская стена видна из космоса"
  isTrue: boolean;       // false = фейк, true = факт
  explanation: string;   // "На самом деле стену не видно из космоса невооружённым глазом..."
  source: string;        // "NASA.gov"
  sourceUrl: string | null; // "https://nasa.gov/..."
  language: 'ru' | 'en';
  categoryId: string;
  difficulty: 1 | 2 | 3 | 4 | 5;
  status: 'draft' | 'moderation' | 'approved' | 'rejected';
  illustrationUrl: string | null;  // URL картинки в S3
  illustrationPrompt: string | null; // промпт для генерации
  timesShown: number;
  timesCorrect: number;
  avgTimeSeconds: number;
  createdAt: Date;
  updatedAt: Date;
}

// Ежедневный набор
// Хранение: Remote
interface DailySet {
  id: string;
  date: Date;            // дата публикации (YYYY-MM-DD)
  theme: string;         // "Космос и вселенная"
  themeEn: string;       // "Space and Universe"
  status: 'draft' | 'scheduled' | 'published';
  questionIds: string[]; // 15 утверждений
  createdAt: Date;
  updatedAt: Date;
}

// История ответов пользователя (антиповтор)
// Хранение: Remote
interface UserQuestionHistory {
  id: string;
  userId: string;
  questionId: string;
  result: 'correct' | 'incorrect';
  answeredAt: Date;
  timeSpentSeconds: number;
}

// Запись лидерборда
// Хранение: Remote
interface LeaderboardEntry {
  id: string;
  userId: string;
  dailySetId: string;
  score: number;         // очки за набор
  correctAnswers: number; // из 15
  totalTimeSeconds: number;
  createdAt: Date;
}

// Админ-пользователь
// Хранение: Remote
interface AdminUser {
  id: string;
  email: string;
  passwordHash: string;
  createdAt: Date;
}
```

### 5.2 Prisma Schema

```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 String    @id @default(cuid())
  deviceId           String    @unique
  nickname           String?   @unique
  language           String    @default("both") // "ru" | "en" | "both"
  pushToken          String?
  pushEnabled        Boolean   @default(true)
  currentStreak      Int       @default(0)
  bestStreak         Int       @default(0)
  lastPlayedDate     DateTime?
  totalGamesPlayed   Int       @default(0)
  totalCorrectAnswers Int      @default(0)
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt

  questionHistory    UserQuestionHistory[]
  leaderboardEntries LeaderboardEntry[]
}

model Category {
  id        String     @id @default(cuid())
  name      String     // RU name
  nameEn    String     // EN name
  slug      String     @unique
  icon      String
  isActive  Boolean    @default(true)
  sortOrder Int        @default(0)
  createdAt DateTime   @default(now())

  questions Question[]
}

model Question {
  id                 String   @id @default(cuid())
  statement          String   // Текст утверждения
  isTrue             Boolean  // true = факт, false = фейк
  explanation        String   // Объяснение почему факт/фейк
  source             String   // Источник информации
  sourceUrl          String?  // URL источника
  language           String   @default("ru") // 'ru' | 'en'
  categoryId         String
  difficulty         Int      @default(3)  // 1-5
  status             String   @default("moderation") // 'draft' | 'moderation' | 'approved' | 'rejected'
  illustrationUrl    String?  // URL картинки в S3
  illustrationPrompt String?  // промпт для генерации

  timesShown         Int      @default(0)
  timesCorrect       Int      @default(0)
  avgTimeSeconds     Float    @default(0)

  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  category           Category @relation(fields: [categoryId], references: [id])
  dailySets          DailySetQuestion[]
  history            UserQuestionHistory[]
}

model DailySet {
  id        String   @id @default(cuid())
  date      DateTime @unique @db.Date
  theme     String
  themeEn   String
  status    String   @default("draft") // 'draft' | 'scheduled' | 'published'
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  questions DailySetQuestion[]
  leaderboardEntries LeaderboardEntry[]
}

model DailySetQuestion {
  id         String   @id @default(cuid())
  dailySetId String
  questionId String
  sortOrder  Int      // 1-15

  dailySet   DailySet @relation(fields: [dailySetId], references: [id])
  question   Question @relation(fields: [questionId], references: [id])

  @@unique([dailySetId, questionId])
}

model UserQuestionHistory {
  id               String   @id @default(cuid())
  userId           String
  questionId       String
  result           String   // 'correct' | 'incorrect'
  answeredAt       DateTime @default(now())
  timeSpentSeconds Int

  user     User     @relation(fields: [userId], references: [id])
  question Question @relation(fields: [questionId], references: [id])

  @@index([userId, questionId])
  @@index([userId, result])
}

model LeaderboardEntry {
  id               String   @id @default(cuid())
  userId           String
  dailySetId       String
  score            Int
  correctAnswers   Int
  totalTimeSeconds Int
  createdAt        DateTime @default(now())

  user     User     @relation(fields: [userId], references: [id])
  dailySet DailySet @relation(fields: [dailySetId], references: [id])

  @@unique([userId, dailySetId])
  @@index([dailySetId, score(sort: Desc)])
}

model AdminUser {
  id           String   @id @default(cuid())
  email        String   @unique
  passwordHash String
  createdAt    DateTime @default(now())
}
```

### 5.3 API Endpoints

#### Mobile API (Public)

```
# Пользователь
POST   /api/v1/users/register        — регистрация устройства (deviceId → user)
PATCH  /api/v1/users/me              — обновление настроек (language, nickname, pushToken)
GET    /api/v1/users/me/stats        — статистика пользователя

# Ежедневные наборы
GET    /api/v1/daily-sets/today      — получить набор на сегодня (с утверждениями, объяснениями, картинками)
POST   /api/v1/daily-sets/:id/submit — отправить результаты набора

# Утверждения
POST   /api/v1/questions/:id/answer  — отправить ответ на утверждение (userAnswer: boolean)

# Лидерборд (ранжирование по количеству правильных ответов)
GET    /api/v1/leaderboard/weekly    — лидерборд за неделю (последние 7 дней)
GET    /api/v1/leaderboard/monthly   — лидерборд за текущий месяц
GET    /api/v1/leaderboard/yearly    — лидерборд за текущий год
GET    /api/v1/leaderboard/alltime   — лидерборд за всё время

# Категории
GET    /api/v1/categories            — список категорий
```

#### Admin API (Protected — JWT)

```
# Авторизация
POST   /api/v1/admin/auth/login      — логин (email + password → JWT)
POST   /api/v1/admin/auth/refresh    — обновить токен

# Утверждения
GET    /api/v1/admin/questions        — список (пагинация, фильтры: статус, факт/фейк, категория, сложность)
GET    /api/v1/admin/questions/:id    — одно утверждение
POST   /api/v1/admin/questions        — создать вручную
PATCH  /api/v1/admin/questions/:id    — обновить
DELETE /api/v1/admin/questions/:id    — удалить
PATCH  /api/v1/admin/questions/:id/approve  — одобрить
PATCH  /api/v1/admin/questions/:id/reject   — отклонить
POST   /api/v1/admin/questions/bulk-approve — массовое одобрение

# AI-генерация
POST   /api/v1/admin/ai/generate-questions     — сгенерировать утверждения через AI
POST   /api/v1/admin/ai/generate-illustration  — сгенерировать иллюстрацию

# Ежедневные наборы
GET    /api/v1/admin/daily-sets       — список (календарь)
GET    /api/v1/admin/daily-sets/:id   — один набор
POST   /api/v1/admin/daily-sets       — создать набор
PATCH  /api/v1/admin/daily-sets/:id   — обновить
DELETE /api/v1/admin/daily-sets/:id   — удалить

# Категории
GET    /api/v1/admin/categories       — список
POST   /api/v1/admin/categories       — создать
PATCH  /api/v1/admin/categories/:id   — обновить
DELETE /api/v1/admin/categories/:id   — удалить

# Статистика
GET    /api/v1/admin/stats/dashboard  — дашборд (DAU, MAU, пул утверждений)
GET    /api/v1/admin/stats/questions  — статистика по утверждениям (сложность, популярность)

# Загрузка файлов
POST   /api/v1/admin/upload/image     — загрузить изображение в S3
```

---

## 6. Аналитические события

| Событие | Параметры | Когда трекается |
|---------|-----------|-----------------|
| `app_open` | `source` (organic/push/deeplink), `is_first_open` | При каждом запуске |
| `onboarding_start` | — | Начало онбординга |
| `onboarding_complete` | `language_selected`, `push_allowed`, `duration_sec` | Завершение онбординга |
| `onboarding_skip` | `step_number` | Нажатие «Пропустить» |
| `daily_set_start` | `set_id`, `theme` | Начало ежедневного набора |
| `daily_set_complete` | `set_id`, `correct_count`, `total_time_sec`, `streak` | Завершение набора |
| `card_shown` | `question_id`, `difficulty`, `is_true` | Показ карточки |
| `card_swiped` | `question_id`, `user_answer` (true/false), `correct`, `time_sec` | Свайп карточки |
| `explanation_shown` | `question_id`, `has_illustration` | Показ объяснения |
| `explanation_share` | `question_id`, `share_method` | Шаринг объяснения |
| `result_share` | `set_id`, `correct_count` | Шаринг результата набора |
| `hint_requested` | `question_id` | Нажатие «Подсказка» |
| `hint_rewarded` | `question_id` | Просмотр rewarded видео для подсказки |
| `ad_shown` | `ad_type` (banner/interstitial/rewarded), `placement` | Показ рекламы |
| `ad_clicked` | `ad_type`, `placement` | Клик по рекламе |
| `ad_failed` | `ad_type`, `error_code` | Ошибка загрузки рекламы |
| `settings_changed` | `setting_name`, `new_value` | Изменение настройки |
| `push_received` | `push_type` | Получение push |
| `push_opened` | `push_type` | Открытие приложения из push |
| `leaderboard_view` | `tab` (weekly/monthly/yearly/alltime) | Просмотр лидерборда |
| `streak_milestone` | `streak_days` | Достижение milestone (7/30/100) |

---

## Резюме для дизайнера

### Список экранов мобильного приложения

| # | Экран | Описание | Рекламный блок |
|---|-------|---------|----------------|
| 1 | Splash Screen | Лого + загрузка | Нет |
| 2 | Onboarding Step 1 | Ценность: критическое мышление | Нет |
| 3 | Onboarding Step 2 | Как это работает: свайп вправо/влево | Нет |
| 4 | Onboarding Step 3 | Выбор языка контента | Нет |
| 5 | Home Screen | Ежедневный набор, стрик, прогресс | Banner внизу |
| 6 | Card Game Screen | Карточка с утверждением, свайп влево/вправо | Нет |
| 7 | Explanation Card (overlay) | Объяснение + источник + иллюстрация + «Далее» / «Поделиться» | Нет |
| 8 | Daily Results | Результаты набора (X/15), % правильных, перцентиль среди сегодняшних игроков, стрик | Banner внизу |
| 9 | Stats Screen | Статистика, тепловая карта, прогресс | Banner внизу |
| 10 | Leaderboard Screen | Топ игроков по правильным ответам (неделя / месяц / год / всё время) | Banner внизу |
| 11 | Settings Screen | Язык, тема, уведомления, звуки, вибрация | Нет |
| 12 | Nickname Input (modal) | Ввод никнейма для лидерборда | Нет |

### Список экранов админ-панели (Web)

| # | Экран | Описание |
|---|-------|---------|
| 1 | Login | Email + пароль |
| 2 | Dashboard | DAU, MAU, пул утверждений, метрики |
| 3 | Утверждения: Список | Таблица с фильтрами (статус, факт/фейк, категория), массовые действия |
| 4 | Утверждения: Детали | Просмотр/редактирование утверждения, объяснения, иллюстрации |
| 5 | Утверждения: Создать | Форма ручного создания (утверждение, факт/фейк, объяснение, источник) |
| 6 | Утверждения: AI-генерация | Форма AI-генерации (параметры → результат) |
| 7 | Ежедневные наборы: Календарь | Календарь с наборами |
| 8 | Ежедневные наборы: Создать | Выбор даты, темы, 15 утверждений |
| 9 | Категории | Управление категориями |
